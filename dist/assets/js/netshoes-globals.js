!function i(s,a,u){function c(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return c(s[e][1][t]||t)},o,o.exports,i,s,a,u)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){"use strict";e.exports=t("./").polyfill()},{"./":2}],2:[function(V,n,r){(function(H,N){var t,e;t=this,e=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,o=void 0,s=function(t,e){d[r]=t,d[r+1]=e,2===(r+=2)&&(o?o(h):y())};var t="undefined"!=typeof window?window:void 0,i=t||{},a=i.MutationObserver||i.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==H&&"[object process]"==={}.toString.call(H),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(h,1)}}var d=new Array(1e3);function h(){for(var t=0;t<r;t+=2){(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0}r=0}var p,m,_,v,y=void 0;function g(t,e){var n=this,r=new this.constructor(L);void 0===r[b]&&F(r);var o=n._state;if(o){var i=arguments[o-1];s(function(){return U(o,r,i,n._result)})}else P(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(L);return q(e,t),e}y=u?function(){return H.nextTick(h)}:a?(m=0,_=new a(h),v=document.createTextNode(""),_.observe(v,{characterData:!0}),function(){v.data=m=++m%2}):l?((p=new MessageChannel).port1.onmessage=h,function(){return p.port2.postMessage(0)}):void 0===t&&"function"==typeof V?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(h)}:f()}catch(t){return f()}}():f();var b=Math.random().toString(36).substring(2);function L(){}var x=void 0,A=1,C=2,T={error:null};function j(t){try{return t.then}catch(t){return T.error=t,T}}function E(t,e,n){e.constructor===t.constructor&&n===g&&e.constructor.resolve===w?function(e,t){t._state===A?k(e,t._result):t._state===C?M(e,t._result):P(t,void 0,function(t){return q(e,t)},function(t){return M(e,t)})}(t,e):n===T?(M(t,T.error),T.error=null):void 0===n?k(t,e):c(n)?function(t,r,o){s(function(e){var n=!1,t=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(o,r,function(t){n||(n=!0,r!==t?q(e,t):k(e,t))},function(t){n||(n=!0,M(e,t))},e._label);!n&&t&&(n=!0,M(e,t))},t)}(t,e,n):k(t,e)}function q(t,e){t===e?M(t,new TypeError("You cannot resolve a promise with itself")):!function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)}(e)?k(t,e):E(t,e,j(e))}function S(t){t._onerror&&t._onerror(t._result),O(t)}function k(t,e){t._state===x&&(t._result=e,t._state=A,0!==t._subscribers.length&&s(O,t))}function M(t,e){t._state===x&&(t._state=C,t._result=e,s(S,t))}function P(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+A]=n,o[i+C]=r,0===i&&t._state&&s(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?U(n,r,o,i):o(i);t._subscribers.length=0}}function U(t,e,n,r){var o=c(n),i=void 0,s=void 0,a=void 0,u=void 0;if(o){if((i=function(t,e){try{return t(e)}catch(t){return T.error=t,T}}(n,r))===T?(u=!0,s=i.error,i.error=null):a=!0,e===i)return void M(e,new TypeError("A promises callback cannot return that same promise."))}else i=r,a=!0;e._state!==x||(o&&a?q(e,i):u?M(e,s):t===A?k(e,i):t===C&&M(e,i))}var I=0;function F(t){t[b]=I++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=(R.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},R.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=j(e);if(o===g&&e._state!==x)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===D){var i=new n(L);E(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},R.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,t===C?M(r,n):this._result[e]=n),0===this._remaining&&k(r,this._result)},R.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,function(t){return n._settledAt(A,e,t)},function(t){return n._settledAt(C,e,t)})},R);function R(t,e){this._instanceConstructor=t,this.promise=new t(L),this.promise[b]||F(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&k(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}var D=(W.prototype.catch=function(t){return this.then(null,t)},W.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},W);function W(t){this[b]=I++,this._result=this._state=void 0,this._subscribers=[],L!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof W?function(e,t){try{t(function(t){q(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return D.prototype.then=g,D.all=function(t){return new z(this,t).promise},D.race=function(o){var i=this;return n(o)?new i(function(t,e){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(t,e)}):new i(function(t,e){return e(new TypeError("You must pass an array to race."))})},D.resolve=w,D.reject=function(t){var e=new this(L);return M(e,t),e},D._setScheduler=function(t){o=t},D._setAsap=function(t){s=t},D._asap=s,D.polyfill=function(){var t=void 0;if(void 0!==N)t=N;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D},"object"==typeof r&&void 0!==n?n.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}).call(this,V("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],3:[function(t,e,n){var r,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],4:[function(t,e,n){self.fetch||(self.fetch=function(u,c){return c=c||{},new Promise(function(t,e){var n=new XMLHttpRequest,r=[],o=[],i={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return o},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var a in n.open(c.method||"get",u,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(t,e,n){r.push(e=e.toLowerCase()),o.push([e,n]),i[e]=i[e]?i[e]+","+n:n}),t(s())},n.onerror=e,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(a,c.headers[a]);n.send(c.body||null)})})},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={main:document.querySelector(".ns-main"),ajaxLoader:document.querySelector(".ns-ajax-loader"),minicart:{overlay:document.querySelector(".ns-minicart__overlay"),container:document.querySelector(".ns-minicart__container"),list:document.querySelector(".ns-minicart__list"),subtotal:document.querySelector(".ns-minicart__subtotal--value"),btn:document.querySelector(".ns-header__cart"),totalItems:document.querySelector(".ns-minicart__top--total")}}},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=t("./__cache-selectors"),i=(r=o)&&r.__esModule?r:{default:r};var s={init:function(){netshoes.startAjaxLoader=s.startAjaxLoader,netshoes.stopAjaxLoader=s.stopAjaxLoader,netshoes.createElementWithClass=s.createElementWithClass,netshoes.sendCustomEvent=s.sendCustomEvent},startAjaxLoader:function(){i.default.ajaxLoader.classList.add("is--active")},stopAjaxLoader:function(){i.default.ajaxLoader.classList.remove("is--active")},createElementWithClass:function(t,e){var n=document.createElement(t);return e.split(" ")?e.split(" ").map(function(t){return n.classList.add(t)}):n.classList.add(e),n},sendCustomEvent:function(t){var e=new CustomEvent(t);document.dispatchEvent(e)}};n.default={init:s.init}},{"./__cache-selectors":5}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=t("./__cache-selectors"),i=(r=o)&&r.__esModule?r:{default:r};function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a={init:function(){netshoes.openCart=a._open,netshoes.closeCart=a._close,netshoes.addToCart=a._addToCart,a._overlayClick(),a._btnCart()},_addToCart:function(n){netshoes.startAjaxLoader();var t=n.sku;fetch("https://akf-netshoes-front-end.herokuapp.com/api/product/"+t).then(function(t){return t.json()}).then(function(t){t.qty=n.qty,t.size=n.size;var e=[].concat(s(i.default.minicart.list.children)).find(function(t){return t.dataset.sku==n.sku&&t.dataset.size==n.size});e?a._updateItem(e,t.qty):a._createItem(t),a._totalItemsUpdate(),a._totalValueUpdate(),a._removeFromCart(),netshoes.openCart(),netshoes.stopAjaxLoader()})},_createItem:function(t){var e=netshoes.createElementWithClass("li","ns-minicart__item");e.dataset.installments=t.installments,e.dataset.sku=t.sku,e.dataset.size=t.size,e.dataset.qty=t.qty,e.dataset.price=t.price,e.innerHTML='  <img class="ns-minicart__item--img" src="./dist/assets/images/'+t.image+'" alt="'+t.name+'">\n                            <div class="ns-minicart__item--info">\n                                <h3 class="ns-minicart__item--title">'+t.title+" "+t.description+'</h3>\n                                <p class="ns-minicart__item--details">'+t.size+" | "+t.style+'</p>\n                                <p class="ns-minicart__item--qty">Quantidade: '+t.qty+'</p>\n                            </div>\n                            <p class="ns-minicart__item--value">R$ '+t.price.toFixed(2).replace(/\./gi,",")+'</p>\n                            <span class="ns-minicart__item--delete">X</span>',i.default.minicart.list.insertAdjacentElement("beforeend",e)},_updateItem:function(t,e){t.dataset.qty=e;var n=[].concat(s(t.children[1].children)).find(function(t){return t.classList.contains("ns-minicart__item--qty")});n.textContent=n.textContent.replace(/\d+/g,e)},_removeFromCart:function(){var t=document.querySelectorAll(".ns-minicart__item--delete");[].concat(s(t)).map(function(t){t.addEventListener("click",function(t){var e=t.currentTarget;t.currentTarget.parentElement.classList.add("is--deleted"),setTimeout(function(){e.parentElement.remove(),a._totalItemsUpdate(),a._totalValueUpdate()},1e3)})})},_totalItemsUpdate:function(){i.default.minicart.totalItems.textContent=i.default.minicart.list.childElementCount},_totalValueUpdate:function(){var t=[].concat(s(i.default.minicart.list.children)).reduce(function(t,e,n){return t+e.dataset.price*e.dataset.qty},0);console.log(t),i.default.minicart.subtotal.textContent="R$ "+t.toFixed(2)},_overlayClick:function(){i.default.minicart.overlay.addEventListener("click",function(t){t.stopPropagation(),a._close()}),i.default.minicart.container.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault()})},_btnCart:function(){i.default.minicart.btn.addEventListener("click",a._open)},_open:function(){i.default.minicart.overlay.classList.add("is--active")},_close:function(){i.default.minicart.overlay.classList.remove("is--active")}};n.default={init:a.init}},{"./__cache-selectors":5}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(t("./_globals-methods.js")),o=i(t("./_minicart.js"));function i(t){return t&&t.__esModule?t:{default:t}}n.default={init:function(){r.default.init(),o.default.init()}}},{"./_globals-methods.js":6,"./_minicart.js":7}],9:[function(t,e,n){"use strict";t("es6-promise/auto"),t("unfetch/polyfill");var r,o=t("./modules/globals/globals-index.js"),i=(r=o)&&r.__esModule?r:{default:r};window.netshoes=window.netshoes||{},document.addEventListener("DOMContentLoaded",i.default.init)},{"./modules/globals/globals-index.js":8,"es6-promise/auto":1,"unfetch/polyfill":4}]},{},[9]);